<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head><link rel="stylesheet" type="text/css" href="/Areas/Epx/Themes/Windows/Content/Header.css" xmlns="http://www.w3.org/1999/xhtml" />
<link rel="stylesheet" type="text/css" href="/Areas/Epx/Themes/Windows/Content/sprite.css" xmlns="http://www.w3.org/1999/xhtml" />
<link rel="stylesheet" type="text/css" href="/Areas/Epx/Themes/Windows/Content/UhfHeader.css" data-do-not-move="true" />
<link rel="stylesheet" href="https://statics-uhf-wus.akamaized.net/west-european/shell/_scrf/css/themes=default.device=uplevel_web_pc/21-ecd6ef/6a-459940/9d-005998/14-a4dc48/e0-030d39/4b-120352/5a-621a2e?ver=2.0" type="text/css" media="all" />
<link rel="stylesheet" type="text/css" href="https://i-msdn.sec.s-msft.com/Combined.css?resources=0:sprite,0:Footer,1:ImageSprite,2:SelectLocaleFromPopUp;/Areas/Epx/Themes/Windows/Content:0,/Areas/Epx/Themes/WindowsApps/Content:1,/Areas/Epx/Themes/Base/Content:2&amp;amp;v=ECB76239448515193309D55B1C860AB7" xmlns="http://www.w3.org/1999/xhtml" />
<link rel="stylesheet" type="text/css" href="https://i-msdn.sec.s-msft.com/Areas/Epx/Themes/Windows/Content/UhfFooter.css?v=636531373177745517" data-do-not-move="true" xmlns="http://www.w3.org/1999/xhtml" />

        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>F# C# - Performance of Collections: Array, List,  Seq, Set, Map.</title>
        <link href="description/Galleries.css" type="text/css" rel="Stylesheet" /><link href="description/Layout.css" type="text/css" rel="Stylesheet" /><link href="description/Brand.css" type="text/css" rel="Stylesheet" /><link href="description/26bd5dfc-13d2-4c56-8c41-974f418bbdfcBrand.css" type="text/css" rel="Stylesheet" />
        <link href="https://i1.code.msdn.s-msft.com/windowsapps/content/common/iframedescription.css" rel="Stylesheet" type="text/css" />
        <script src="https://i1.code.msdn.s-msft.com/windowsapps/content/common/offline.js" type="text/javascript"></script>
        <style type="text/css">
            #projectInfo {
                overflow: auto;
            }
            #longDesc {
                clear:both;
                margin: 25px 0 10px 0;
            }

            #SampleIndexList{
                margin-left: 15px;
            }
        </style>
    </head>
<body>
    <div id="offlineDescription">
        <h1>F# C# - Performance of Collections: Array, List,  Seq, Set, Map.</h1>
        <br/>
        <div id="projectInfo">
            <div class="section">
                    <div class="itemBarLong tagsContainer">
                        <label for="Technologies">Technologies</label>
                        <div id="Technologies">
                            C#, Collections, F#, Fsharp, array, list, .NET Framwork, Set, MAP, Seq
                        </div>
                    </div>
                    <div class="itemBarLong tagsContainer">
                        <label for="Topics">Topics</label>
                        <div id="Topics">
                            C#, Performance, F#
                        </div>
                    </div>
                <div class="itemBarLong">
                    <label for="Platforms">Platforms</label>
                    <div id="Platforms">
                        Desktop, Web, Phone, Data, Windows RT
                    </div>
                </div>
                <div class="itemBarLong">
                    <label for="Requirements">Requirements</label>
                    <div id="Requirements">
                        
                    </div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Primary language</label>
                    <div id="LastUpdated">en-US</div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Updated</label>
                    <div id="LastUpdated">2/13/2018</div>
                </div>
                <div class="itemBarLong">
                    <label for="License">License</label>
                    <div id="License">
                        <a href="license.rtf">MIT</a></div>
                </div>
                <div class="itemBar">
                    <div class="viewonlinecont">
                        <a data-link="online" href="https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef">View this sample online</a>
                    </div>
                </div>
            </div>
        </div>
        
                   
<script type="text/javascript">
    function initializePage() {
        var otherTabClass = 'otherTab';
        var hiddenPreClass = 'hidden';

        var htmlDecode = function(encodedData) {
            var decodedData = "";
            if (encodedData) {
                var div = document.createElement('div');
                div.innerHTML = encodedData;
                decodedData = div.firstChild.nodeValue.replace( /\\r\\n/ig , '\r\n');
            }
            return decodedData;
        };
                
        Galleries.iterateElem(Galleries.findElem(null, 'div', 'scriptcode'), function (index, scriptBlock) {
            var titleElem = Galleries.findElem(scriptBlock, 'div', 'title')[0];
            var labelElems = Galleries.findElem(titleElem, 'span');
            if (labelElems.length == 0) {
                labelElems = titleElem;
            }
            var languageSpans = Galleries.findElem(scriptBlock, 'span', 'hidden');
            var pres = Galleries.findElem(scriptBlock, 'pre');
            if (languageSpans.length > 0 && pres.length > 1) {
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    var languageSpan = languageSpans[index];
                            
                    elem.code = codePre.innerHTML.replace( /(\r(\n)?)|((\r)?\n)/ig , '\\r\\n');
                            
                    codePre.className = codePre.className.replace(hiddenPreClass, '');
                            
                    languageSpan.parentNode.removeChild(languageSpan);
                });

                pres = Galleries.findElem(scriptBlock, 'pre');
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    if (index == 0) {
                        scriptBlock.activeTab = 0;
                    }
                    else {
                        labelSpan.className += otherTabClass;
                        codePre.className += hiddenPreClass;
                    }
                    Galleries.attachEventHandler(labelSpan, 'click', function(e) {
                        var activeTab = scriptBlock.activeTab;
                        labelElems[activeTab].className += otherTabClass;
                        pres[activeTab].className += hiddenPreClass;

                        codePre.className = codePre.className.replace(hiddenPreClass, '');
                        labelSpan.className = labelSpan.className.replace(otherTabClass, '');
                        scriptBlock.activeTab = index;
                    });
                });

                var preview = Galleries.findElem(scriptBlock, 'div', 'preview');
                if (preview.length == 0) {
                    preview.push(pres[pres.length - 1]);
                }
                Galleries.iterateElem(preview, function(index, elem) {
                    elem.parentNode.removeChild(elem);
                });

                if (window.clipboardData && clipboardData.setData) {
                    var copyLink = document.createElement('a');
                    copyLink.href = 'javascript:void(0);';
                    copyLink.className = 'copyCode';
                    copyLink.innerHTML = 'Copy code';
                    Galleries.attachEventHandler(copyLink, 'click', function (e) {
                        clipboardData.setData("Text", htmlDecode(labelElems[scriptBlock.activeTab].code));
                        return false;
                    });
                    scriptBlock.insertBefore(copyLink, scriptBlock.childNodes[0]);
                }
            }
        });
    }

    Galleries.onWindowLoad(function(){
        initializePage();
    });

</script>
<div id="longDesc">
    
<h1>Introduction</h1>
<p>F# C# - Performance of Collections: <strong>Array, List, &nbsp;Seq, Set (HashSet), Map (Dictionary)</strong>.&nbsp;</p>
<p>When you &nbsp;think about data you always need to think about performance,</p>
<p>This project allows you to play with <strong>Array, List, Seq, Set, Map.</strong></p>
<p><strong>Best performance</strong> and <strong>best memory usage</strong> as expected in
<strong>Array.</strong></p>
<p>Second place in<strong> List.</strong></p>
<p><strong>&nbsp;F#</strong></p>
<p><strong><img id="187991" src="description/Performance.PNG" alt="" width="594" height="193"><br>
</strong></p>
<p>C#</p>
<p><img id="188577" src="https://i1.code.msdn.s-msft.com/windowsapps/f-performance-of-88f675ef/image/file/188577/1/csharpcollection.png" alt="" width="612" height="225"></p>
<p><strong><br>
</strong></p>
<p>If you need to process big data probably you need to think about using Array, for size less than 100,000 you can use any Collection which best feet you're needed</p>
<h1><span>Building the Sample</span></h1>
<p><em>Bring project and click solution/project file and RUN<br>
</em></p>
<p><span style="font-size:20px; font-weight:bold">Description</span></p>
<p><a href="https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://docs.microsoft.com/en-us/dotnet/fsharp/language-reference/fsharp-collection-types">https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://docs.microsoft.com/en-us/dotnet/fsharp/language-reference/fsharp-collection-types</a></p>
&nbsp;
<table border="0" cellpadding="0">
<tbody>
<tr>
<td>
<p><strong>List</strong> -</p>
</td>
<td>
<p>An ordered, immutable series of elements of the same type. Implemented as a linked list.</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Array</strong> - A fixed-size, zero-based, mutable collection of consecutive data elements that are all of the same types.&nbsp;</p>
<p><strong>Seq</strong> - A logical series of elements that are all of one type. Sequences are particularly useful when you have a large, ordered collection of data but don't necessarily expect to use all the elements. Individual sequence elements are computed
 only as required, so a sequence can perform better than a list if not all the elements are used.</p>
<p><strong>Map</strong> - An immutable dictionary of elements. Elements are accessed by key.</p>
<p><strong>Set</strong> - An immutable set that's based on binary trees, where comparison is the F# structural comparison function</p>
<p><br>
<em>&nbsp;&nbsp;&nbsp;</em></p>
<p>&nbsp;</p>
<div class="scriptcode">
<div class="pluginEditHolder" pluginCommand="mceScriptCode">
<div class="title"><span>F#</span></div>
<div class="pluginLinkHolder"><span class="pluginEditHolderLink">Edit</span>|<span class="pluginRemoveHolderLink">Remove</span></div>
<span class="hidden">fsharp</span>
<pre class="hidden">open System
open <a class="libraryLink" href="https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://msdn.microsoft.com/en-US/library/System.Diagnostics.aspx"  title="Auto generated link to System.Diagnostics">System.Diagnostics</a>

let sw = new Stopwatch()

let testArr() =
    let mutable result = 0L
    do sw.Reset()    
    do sw.Start()
    //let testArray : int64[]   =  [| for i in 1 .. 100_000 -&gt;  i * i|] 
    let startBytes = <a class="libraryLink" href="https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://msdn.microsoft.com/en-US/library/System.GC.GetTotalMemory.aspx"  title="Auto generated link to System.GC.GetTotalMemory">System.GC.GetTotalMemory</a>(true)
    let testArray : int64[] = Array.init 1_000_000 (fun i -&gt; int64(i) * int64(i))  
    let stopBytes = <a class="libraryLink" href="https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://msdn.microsoft.com/en-US/library/System.GC.GetTotalMemory.aspx"  title="Auto generated link to System.GC.GetTotalMemory">System.GC.GetTotalMemory</a>(true)
    do GC.KeepAlive(testArray)  // This ensure a reference to object keeps object in memory

    do sw.Stop()
    let timeInitArray = sw.ElapsedTicks.ToString(&quot;0,000,000&quot;) &#43; &quot; ticks.   Memory Used - &quot; &#43; ((stopBytes - startBytes)).ToString(&quot;0,0&quot;)
    do Console.WriteLine(&quot; &lt;Array&gt; - Init Time - &quot; &#43; timeInitArray ) 

    do sw.Reset()    
    do sw.Start()
    //do Array.fold (fun acc x -&gt; acc &#43; x ) 0  testArray |&gt; (fun x -&gt; result &lt;- x)
    //do testArray |&gt; Array.iter (fun x -&gt; result &lt;- result &#43; x)
    
    for i in 0 .. testArray.Length - 1 do
        result &lt;- result &#43; testArray.[i]

    do sw.Stop()  

    do Console.WriteLine(&quot; &lt;Array&gt;-Adding Time - &quot; &#43; sw.ElapsedTicks.ToString(&quot;0,000,000&quot;) &#43; &quot; ticks. (result=&quot; &#43; result.ToString(&quot;0,0&quot;) &#43; &quot;)&quot; ) 
    do Console.WriteLine()


let testLst() =
    let mutable result = 0L

    do sw.Reset()    
    do sw.Start()

    let startBytes = <a class="libraryLink" href="https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://msdn.microsoft.com/en-US/library/System.GC.GetTotalMemory.aspx"  title="Auto generated link to System.GC.GetTotalMemory">System.GC.GetTotalMemory</a>(true)
    //let testList: int64 list  =  [ for i in 1 .. 100_000 -&gt; int64(i) * int64(i)]  
    let testList : int64 list = List.init 1_000_000 (fun i -&gt; int64(i) * int64(i))  
    let stopBytes = <a class="libraryLink" href="https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://msdn.microsoft.com/en-US/library/System.GC.GetTotalMemory.aspx"  title="Auto generated link to System.GC.GetTotalMemory">System.GC.GetTotalMemory</a>(true)
    do GC.KeepAlive(testList)  // This ensure a reference to object keeps object in memory
    do sw.Stop()
    let timeInitList = sw.ElapsedTicks.ToString(&quot;0,000,000&quot;) &#43; &quot; ticks.   Memory Used - &quot; &#43; ((stopBytes - startBytes)).ToString(&quot;0,0&quot;)
    do Console.WriteLine(&quot; &lt;List&gt;  - Init Time - &quot; &#43; timeInitList  )

    do sw.Reset()    
    do sw.Start()
    do List.fold (fun acc x -&gt; acc &#43; x ) 0L  testList |&gt; (fun x -&gt; result &lt;- x)
    do sw.Stop()  

    do Console.WriteLine(&quot; &lt;List&gt; -Adding Time - &quot; &#43; sw.ElapsedTicks.ToString(&quot;0,000,000&quot;) &#43; &quot; ticks. (result=&quot; &#43; result.ToString(&quot;0,0&quot;) &#43; &quot;)&quot; ) 
    do Console.WriteLine()



let testSeq() =
    let mutable result = 0L

    do sw.Reset()    
    do sw.Start()
   
    let startBytes = <a class="libraryLink" href="https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://msdn.microsoft.com/en-US/library/System.GC.GetTotalMemory.aspx"  title="Auto generated link to System.GC.GetTotalMemory">System.GC.GetTotalMemory</a>(true) 
    let testSeq : int64 seq    = [ for i in 1 .. 1_000_000 -&gt;  (int64)i * (int64)i] |&gt; Seq.ofList 
    //let testSeq  = Seq.init 1_000_000 (fun i -&gt; (int64)i * (int64)i)  
    let stopBytes = <a class="libraryLink" href="https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://msdn.microsoft.com/en-US/library/System.GC.GetTotalMemory.aspx"  title="Auto generated link to System.GC.GetTotalMemory">System.GC.GetTotalMemory</a>(true)
    do GC.KeepAlive(testSeq)  // This ensure a reference to object keeps object in memory
    do sw.Stop()

    let timeInitList = sw.ElapsedTicks.ToString(&quot;0,000,000&quot;) &#43; &quot; ticks.   Memory Used - &quot; &#43; ((stopBytes - startBytes)).ToString(&quot;0,0&quot;)
    do Console.WriteLine(&quot; &lt;Seq&gt;  -  Init Time - &quot; &#43; timeInitList  )
   
    do sw.Reset()    
    do sw.Start()
    do Seq.fold (fun acc x -&gt; acc &#43; x ) 0L  testSeq |&gt; (fun x -&gt; result &lt;- x)
    do sw.Stop()
    
    do Console.WriteLine(&quot; &lt;Seq&gt; - Adding Time - &quot; &#43; sw.ElapsedTicks.ToString(&quot;0,000,000&quot;) &#43; &quot; ticks. (result=&quot; &#43; result.ToString(&quot;0,0&quot;) &#43; &quot;)&quot; ) 
    do Console.WriteLine()




let testSet() =
    let mutable result = 0L

    do sw.Reset()    
    do sw.Start()
   
    let startBytes = <a class="libraryLink" href="https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://msdn.microsoft.com/en-US/library/System.GC.GetTotalMemory.aspx"  title="Auto generated link to System.GC.GetTotalMemory">System.GC.GetTotalMemory</a>(true) 
    let testSet : Set&lt;int64&gt;  = [| for i in 1 .. 1_000_000 -&gt; (int64)i * (int64)i|] |&gt; Set.ofArray 
    let stopBytes = <a class="libraryLink" href="https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://msdn.microsoft.com/en-US/library/System.GC.GetTotalMemory.aspx"  title="Auto generated link to System.GC.GetTotalMemory">System.GC.GetTotalMemory</a>(true)
    do GC.KeepAlive(testSet)  // This ensure a reference to object keeps object in memory
    do sw.Stop()

    let timeInitList = sw.ElapsedTicks.ToString(&quot;0,000,000&quot;) &#43; &quot; ticks.   Memory Used - &quot; &#43; ((stopBytes - startBytes)).ToString(&quot;0,0&quot;)
    do Console.WriteLine(&quot; &lt;Set&gt;  -  Init Time - &quot; &#43; timeInitList  )
   
    do sw.Reset()    
    do sw.Start()
    do Seq.fold (fun acc x -&gt; acc &#43; x ) 0L  testSet |&gt; (fun x -&gt; result &lt;- x)
    do sw.Stop()
    
    do Console.WriteLine(&quot; &lt;Set&gt; - Adding Time - &quot; &#43; sw.ElapsedTicks.ToString(&quot;0,000,000&quot;) &#43; &quot; ticks. (result=&quot; &#43; result.ToString(&quot;0,0&quot;) &#43; &quot;)&quot; ) 
    do Console.WriteLine()


let testMap() =
    let mutable result = 0L

    do sw.Reset()    
    do sw.Start()
   
    let startBytes = <a class="libraryLink" href="https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://msdn.microsoft.com/en-US/library/System.GC.GetTotalMemory.aspx"  title="Auto generated link to System.GC.GetTotalMemory">System.GC.GetTotalMemory</a>(true) 
    let testMap : Map&lt;int,int64&gt; = [ for i in 1 .. 1_000_000 -&gt; ( i ,  (int64)i * (int64)i)] |&gt; Map.ofList 
    let stopBytes = <a class="libraryLink" href="https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://msdn.microsoft.com/en-US/library/System.GC.GetTotalMemory.aspx"  title="Auto generated link to System.GC.GetTotalMemory">System.GC.GetTotalMemory</a>(true)
    do GC.KeepAlive(testMap)  // This ensure a reference to object keeps object in memory
    do sw.Stop()

    let timeInitList = sw.ElapsedTicks.ToString(&quot;0,000,000&quot;) &#43; &quot; ticks.   Memory Used - &quot; &#43; ((stopBytes - startBytes)).ToString(&quot;0,0&quot;)
    do Console.WriteLine(&quot; &lt;Map&gt;  -  Init Time - &quot; &#43; timeInitList  )
   
    do sw.Reset()    
    do sw.Start()
    do for (KeyValue(i, x)) in testMap do 
       result &lt;- result &#43; x 
    do sw.Stop()
    
    do Console.WriteLine(&quot; &lt;Map&gt; - Adding Time - &quot; &#43; sw.ElapsedTicks.ToString(&quot;0,000,000&quot;) &#43; &quot; ticks. (result=&quot; &#43; result.ToString(&quot;0,0&quot;) &#43; &quot;)&quot; ) 
    do Console.WriteLine()



let runAllTests() =
    do testArr()
    do testLst()
    do testSeq()
    do testSet()
    do testMap()

[&lt;EntryPoint&gt;]
let main argv = 
    do runAllTests()
    do Console.ReadLine() |&gt; ignore
    0 // return an integer exit code
</pre>
<div class="preview">
<pre class="fsharp"><span class="fs__keyword">open</span>&nbsp;System&nbsp;
<span class="fs__keyword">open</span>&nbsp;System.Diagnostics&nbsp;
&nbsp;
<span class="fs__keyword">let</span>&nbsp;sw&nbsp;=&nbsp;<span class="fs__keyword">new</span>&nbsp;Stopwatch()&nbsp;
&nbsp;
<span class="fs__keyword">let</span>&nbsp;testArr()&nbsp;=&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">let</span>&nbsp;<span class="fs__keyword">mutable</span>&nbsp;result&nbsp;=&nbsp;0L&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;sw.Reset()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;sw.Start()&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__com">//let&nbsp;testArray&nbsp;:&nbsp;int64[]&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;[|&nbsp;for&nbsp;i&nbsp;in&nbsp;1&nbsp;..&nbsp;100_000&nbsp;-&gt;&nbsp;&nbsp;i&nbsp;*&nbsp;i|]&nbsp;</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">let</span>&nbsp;startBytes&nbsp;=&nbsp;<a class="libraryLink" href="https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://msdn.microsoft.com/en-US/library/System.GC.GetTotalMemory.aspx"  title="Auto generated link to System.GC.GetTotalMemory">System.GC.GetTotalMemory</a>(<span class="fs__keyword">true</span>)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">let</span>&nbsp;testArray&nbsp;:&nbsp;int64[]&nbsp;=&nbsp;Array.init&nbsp;1_000_000&nbsp;(<span class="fs__keyword">fun</span>&nbsp;i&nbsp;-&gt;&nbsp;int64(i)&nbsp;*&nbsp;int64(i))&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">let</span>&nbsp;stopBytes&nbsp;=&nbsp;<a class="libraryLink" href="https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://msdn.microsoft.com/en-US/library/System.GC.GetTotalMemory.aspx"  title="Auto generated link to System.GC.GetTotalMemory">System.GC.GetTotalMemory</a>(<span class="fs__keyword">true</span>)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;GC.KeepAlive(testArray)&nbsp;&nbsp;<span class="fs__com">//&nbsp;This&nbsp;ensure&nbsp;a&nbsp;reference&nbsp;to&nbsp;object&nbsp;keeps&nbsp;object&nbsp;in&nbsp;memory</span>&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;sw.Stop()&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">let</span>&nbsp;timeInitArray&nbsp;=&nbsp;sw.ElapsedTicks.ToString(<span class="fs__string2">&quot;0,000,000&quot;</span>)&nbsp;&#43;&nbsp;<span class="fs__string2">&quot;&nbsp;ticks.&nbsp;&nbsp;&nbsp;Memory&nbsp;Used&nbsp;-&nbsp;&quot;</span>&nbsp;&#43;&nbsp;((stopBytes&nbsp;-&nbsp;startBytes)).ToString(<span class="fs__string2">&quot;0,0&quot;</span>)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;Console.WriteLine(<span class="fs__string2">&quot;&nbsp;&lt;Array&gt;&nbsp;-&nbsp;Init&nbsp;Time&nbsp;-&nbsp;&quot;</span>&nbsp;&#43;&nbsp;timeInitArray&nbsp;)&nbsp;&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;sw.Reset()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;sw.Start()&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__com">//do&nbsp;Array.fold&nbsp;(fun&nbsp;acc&nbsp;x&nbsp;-&gt;&nbsp;acc&nbsp;&#43;&nbsp;x&nbsp;)&nbsp;0&nbsp;&nbsp;testArray&nbsp;|&gt;&nbsp;(fun&nbsp;x&nbsp;-&gt;&nbsp;result&nbsp;&lt;-&nbsp;x)</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__com">//do&nbsp;testArray&nbsp;|&gt;&nbsp;Array.iter&nbsp;(fun&nbsp;x&nbsp;-&gt;&nbsp;result&nbsp;&lt;-&nbsp;result&nbsp;&#43;&nbsp;x)</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">for</span>&nbsp;i&nbsp;<span class="fs__keyword">in</span>&nbsp;<span class="fs__number">0</span>&nbsp;..&nbsp;testArray.Length&nbsp;-&nbsp;<span class="fs__number">1</span>&nbsp;<span class="fs__keyword">do</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;&lt;-&nbsp;result&nbsp;&#43;&nbsp;testArray.[i]&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;sw.Stop()&nbsp;&nbsp;&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;Console.WriteLine(<span class="fs__string2">&quot;&nbsp;&lt;Array&gt;-Adding&nbsp;Time&nbsp;-&nbsp;&quot;</span>&nbsp;&#43;&nbsp;sw.ElapsedTicks.ToString(<span class="fs__string2">&quot;0,000,000&quot;</span>)&nbsp;&#43;&nbsp;<span class="fs__string2">&quot;&nbsp;ticks.&nbsp;(result=&quot;</span>&nbsp;&#43;&nbsp;result.ToString(<span class="fs__string2">&quot;0,0&quot;</span>)&nbsp;&#43;&nbsp;<span class="fs__string2">&quot;)&quot;</span>&nbsp;)&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;Console.WriteLine()&nbsp;
&nbsp;
&nbsp;
<span class="fs__keyword">let</span>&nbsp;testLst()&nbsp;=&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">let</span>&nbsp;<span class="fs__keyword">mutable</span>&nbsp;result&nbsp;=&nbsp;0L&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;sw.Reset()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;sw.Start()&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">let</span>&nbsp;startBytes&nbsp;=&nbsp;<a class="libraryLink" href="https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://msdn.microsoft.com/en-US/library/System.GC.GetTotalMemory.aspx"  title="Auto generated link to System.GC.GetTotalMemory">System.GC.GetTotalMemory</a>(<span class="fs__keyword">true</span>)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__com">//let&nbsp;testList:&nbsp;int64&nbsp;list&nbsp;&nbsp;=&nbsp;&nbsp;[&nbsp;for&nbsp;i&nbsp;in&nbsp;1&nbsp;..&nbsp;100_000&nbsp;-&gt;&nbsp;int64(i)&nbsp;*&nbsp;int64(i)]&nbsp;&nbsp;</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">let</span>&nbsp;testList&nbsp;:&nbsp;int64&nbsp;list&nbsp;=&nbsp;List.init&nbsp;1_000_000&nbsp;(<span class="fs__keyword">fun</span>&nbsp;i&nbsp;-&gt;&nbsp;int64(i)&nbsp;*&nbsp;int64(i))&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">let</span>&nbsp;stopBytes&nbsp;=&nbsp;<a class="libraryLink" href="https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://msdn.microsoft.com/en-US/library/System.GC.GetTotalMemory.aspx"  title="Auto generated link to System.GC.GetTotalMemory">System.GC.GetTotalMemory</a>(<span class="fs__keyword">true</span>)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;GC.KeepAlive(testList)&nbsp;&nbsp;<span class="fs__com">//&nbsp;This&nbsp;ensure&nbsp;a&nbsp;reference&nbsp;to&nbsp;object&nbsp;keeps&nbsp;object&nbsp;in&nbsp;memory</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;sw.Stop()&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">let</span>&nbsp;timeInitList&nbsp;=&nbsp;sw.ElapsedTicks.ToString(<span class="fs__string2">&quot;0,000,000&quot;</span>)&nbsp;&#43;&nbsp;<span class="fs__string2">&quot;&nbsp;ticks.&nbsp;&nbsp;&nbsp;Memory&nbsp;Used&nbsp;-&nbsp;&quot;</span>&nbsp;&#43;&nbsp;((stopBytes&nbsp;-&nbsp;startBytes)).ToString(<span class="fs__string2">&quot;0,0&quot;</span>)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;Console.WriteLine(<span class="fs__string2">&quot;&nbsp;&lt;List&gt;&nbsp;&nbsp;-&nbsp;Init&nbsp;Time&nbsp;-&nbsp;&quot;</span>&nbsp;&#43;&nbsp;timeInitList&nbsp;&nbsp;)&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;sw.Reset()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;sw.Start()&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;List.fold&nbsp;(<span class="fs__keyword">fun</span>&nbsp;acc&nbsp;x&nbsp;-&gt;&nbsp;acc&nbsp;&#43;&nbsp;x&nbsp;)&nbsp;0L&nbsp;&nbsp;testList&nbsp;|&gt;&nbsp;(<span class="fs__keyword">fun</span>&nbsp;x&nbsp;-&gt;&nbsp;result&nbsp;&lt;-&nbsp;x)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;sw.Stop()&nbsp;&nbsp;&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;Console.WriteLine(<span class="fs__string2">&quot;&nbsp;&lt;List&gt;&nbsp;-Adding&nbsp;Time&nbsp;-&nbsp;&quot;</span>&nbsp;&#43;&nbsp;sw.ElapsedTicks.ToString(<span class="fs__string2">&quot;0,000,000&quot;</span>)&nbsp;&#43;&nbsp;<span class="fs__string2">&quot;&nbsp;ticks.&nbsp;(result=&quot;</span>&nbsp;&#43;&nbsp;result.ToString(<span class="fs__string2">&quot;0,0&quot;</span>)&nbsp;&#43;&nbsp;<span class="fs__string2">&quot;)&quot;</span>&nbsp;)&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;Console.WriteLine()&nbsp;
&nbsp;
&nbsp;
&nbsp;
<span class="fs__keyword">let</span>&nbsp;testSeq()&nbsp;=&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">let</span>&nbsp;<span class="fs__keyword">mutable</span>&nbsp;result&nbsp;=&nbsp;0L&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;sw.Reset()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;sw.Start()&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">let</span>&nbsp;startBytes&nbsp;=&nbsp;<a class="libraryLink" href="https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://msdn.microsoft.com/en-US/library/System.GC.GetTotalMemory.aspx"  title="Auto generated link to System.GC.GetTotalMemory">System.GC.GetTotalMemory</a>(<span class="fs__keyword">true</span>)&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">let</span>&nbsp;testSeq&nbsp;:&nbsp;int64&nbsp;seq&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;[&nbsp;<span class="fs__keyword">for</span>&nbsp;i&nbsp;<span class="fs__keyword">in</span>&nbsp;<span class="fs__number">1</span>&nbsp;..&nbsp;1_000_000&nbsp;-&gt;&nbsp;&nbsp;(int64)i&nbsp;*&nbsp;(int64)i]&nbsp;|&gt;&nbsp;Seq.ofList&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__com">//let&nbsp;testSeq&nbsp;&nbsp;=&nbsp;Seq.init&nbsp;1_000_000&nbsp;(fun&nbsp;i&nbsp;-&gt;&nbsp;(int64)i&nbsp;*&nbsp;(int64)i)&nbsp;&nbsp;</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">let</span>&nbsp;stopBytes&nbsp;=&nbsp;<a class="libraryLink" href="https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://msdn.microsoft.com/en-US/library/System.GC.GetTotalMemory.aspx"  title="Auto generated link to System.GC.GetTotalMemory">System.GC.GetTotalMemory</a>(<span class="fs__keyword">true</span>)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;GC.KeepAlive(testSeq)&nbsp;&nbsp;<span class="fs__com">//&nbsp;This&nbsp;ensure&nbsp;a&nbsp;reference&nbsp;to&nbsp;object&nbsp;keeps&nbsp;object&nbsp;in&nbsp;memory</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;sw.Stop()&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">let</span>&nbsp;timeInitList&nbsp;=&nbsp;sw.ElapsedTicks.ToString(<span class="fs__string2">&quot;0,000,000&quot;</span>)&nbsp;&#43;&nbsp;<span class="fs__string2">&quot;&nbsp;ticks.&nbsp;&nbsp;&nbsp;Memory&nbsp;Used&nbsp;-&nbsp;&quot;</span>&nbsp;&#43;&nbsp;((stopBytes&nbsp;-&nbsp;startBytes)).ToString(<span class="fs__string2">&quot;0,0&quot;</span>)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;Console.WriteLine(<span class="fs__string2">&quot;&nbsp;&lt;Seq&gt;&nbsp;&nbsp;-&nbsp;&nbsp;Init&nbsp;Time&nbsp;-&nbsp;&quot;</span>&nbsp;&#43;&nbsp;timeInitList&nbsp;&nbsp;)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;sw.Reset()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;sw.Start()&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;Seq.fold&nbsp;(<span class="fs__keyword">fun</span>&nbsp;acc&nbsp;x&nbsp;-&gt;&nbsp;acc&nbsp;&#43;&nbsp;x&nbsp;)&nbsp;0L&nbsp;&nbsp;testSeq&nbsp;|&gt;&nbsp;(<span class="fs__keyword">fun</span>&nbsp;x&nbsp;-&gt;&nbsp;result&nbsp;&lt;-&nbsp;x)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;sw.Stop()&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;Console.WriteLine(<span class="fs__string2">&quot;&nbsp;&lt;Seq&gt;&nbsp;-&nbsp;Adding&nbsp;Time&nbsp;-&nbsp;&quot;</span>&nbsp;&#43;&nbsp;sw.ElapsedTicks.ToString(<span class="fs__string2">&quot;0,000,000&quot;</span>)&nbsp;&#43;&nbsp;<span class="fs__string2">&quot;&nbsp;ticks.&nbsp;(result=&quot;</span>&nbsp;&#43;&nbsp;result.ToString(<span class="fs__string2">&quot;0,0&quot;</span>)&nbsp;&#43;&nbsp;<span class="fs__string2">&quot;)&quot;</span>&nbsp;)&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;Console.WriteLine()&nbsp;
&nbsp;
&nbsp;
&nbsp;
&nbsp;
<span class="fs__keyword">let</span>&nbsp;testSet()&nbsp;=&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">let</span>&nbsp;<span class="fs__keyword">mutable</span>&nbsp;result&nbsp;=&nbsp;0L&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;sw.Reset()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;sw.Start()&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">let</span>&nbsp;startBytes&nbsp;=&nbsp;<a class="libraryLink" href="https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://msdn.microsoft.com/en-US/library/System.GC.GetTotalMemory.aspx"  title="Auto generated link to System.GC.GetTotalMemory">System.GC.GetTotalMemory</a>(<span class="fs__keyword">true</span>)&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">let</span>&nbsp;testSet&nbsp;:&nbsp;Set&lt;int64&gt;&nbsp;&nbsp;=&nbsp;[|&nbsp;<span class="fs__keyword">for</span>&nbsp;i&nbsp;<span class="fs__keyword">in</span>&nbsp;<span class="fs__number">1</span>&nbsp;..&nbsp;1_000_000&nbsp;-&gt;&nbsp;(int64)i&nbsp;*&nbsp;(int64)i|]&nbsp;|&gt;&nbsp;Set.ofArray&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">let</span>&nbsp;stopBytes&nbsp;=&nbsp;<a class="libraryLink" href="https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://msdn.microsoft.com/en-US/library/System.GC.GetTotalMemory.aspx"  title="Auto generated link to System.GC.GetTotalMemory">System.GC.GetTotalMemory</a>(<span class="fs__keyword">true</span>)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;GC.KeepAlive(testSet)&nbsp;&nbsp;<span class="fs__com">//&nbsp;This&nbsp;ensure&nbsp;a&nbsp;reference&nbsp;to&nbsp;object&nbsp;keeps&nbsp;object&nbsp;in&nbsp;memory</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;sw.Stop()&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">let</span>&nbsp;timeInitList&nbsp;=&nbsp;sw.ElapsedTicks.ToString(<span class="fs__string2">&quot;0,000,000&quot;</span>)&nbsp;&#43;&nbsp;<span class="fs__string2">&quot;&nbsp;ticks.&nbsp;&nbsp;&nbsp;Memory&nbsp;Used&nbsp;-&nbsp;&quot;</span>&nbsp;&#43;&nbsp;((stopBytes&nbsp;-&nbsp;startBytes)).ToString(<span class="fs__string2">&quot;0,0&quot;</span>)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;Console.WriteLine(<span class="fs__string2">&quot;&nbsp;&lt;Set&gt;&nbsp;&nbsp;-&nbsp;&nbsp;Init&nbsp;Time&nbsp;-&nbsp;&quot;</span>&nbsp;&#43;&nbsp;timeInitList&nbsp;&nbsp;)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;sw.Reset()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;sw.Start()&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;Seq.fold&nbsp;(<span class="fs__keyword">fun</span>&nbsp;acc&nbsp;x&nbsp;-&gt;&nbsp;acc&nbsp;&#43;&nbsp;x&nbsp;)&nbsp;0L&nbsp;&nbsp;testSet&nbsp;|&gt;&nbsp;(<span class="fs__keyword">fun</span>&nbsp;x&nbsp;-&gt;&nbsp;result&nbsp;&lt;-&nbsp;x)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;sw.Stop()&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;Console.WriteLine(<span class="fs__string2">&quot;&nbsp;&lt;Set&gt;&nbsp;-&nbsp;Adding&nbsp;Time&nbsp;-&nbsp;&quot;</span>&nbsp;&#43;&nbsp;sw.ElapsedTicks.ToString(<span class="fs__string2">&quot;0,000,000&quot;</span>)&nbsp;&#43;&nbsp;<span class="fs__string2">&quot;&nbsp;ticks.&nbsp;(result=&quot;</span>&nbsp;&#43;&nbsp;result.ToString(<span class="fs__string2">&quot;0,0&quot;</span>)&nbsp;&#43;&nbsp;<span class="fs__string2">&quot;)&quot;</span>&nbsp;)&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;Console.WriteLine()&nbsp;
&nbsp;
&nbsp;
<span class="fs__keyword">let</span>&nbsp;testMap()&nbsp;=&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">let</span>&nbsp;<span class="fs__keyword">mutable</span>&nbsp;result&nbsp;=&nbsp;0L&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;sw.Reset()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;sw.Start()&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">let</span>&nbsp;startBytes&nbsp;=&nbsp;<a class="libraryLink" href="https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://msdn.microsoft.com/en-US/library/System.GC.GetTotalMemory.aspx"  title="Auto generated link to System.GC.GetTotalMemory">System.GC.GetTotalMemory</a>(<span class="fs__keyword">true</span>)&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">let</span>&nbsp;testMap&nbsp;:&nbsp;Map&lt;int,int64&gt;&nbsp;=&nbsp;[&nbsp;<span class="fs__keyword">for</span>&nbsp;i&nbsp;<span class="fs__keyword">in</span>&nbsp;<span class="fs__number">1</span>&nbsp;..&nbsp;1_000_000&nbsp;-&gt;&nbsp;(&nbsp;i&nbsp;,&nbsp;&nbsp;(int64)i&nbsp;*&nbsp;(int64)i)]&nbsp;|&gt;&nbsp;Map.ofList&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">let</span>&nbsp;stopBytes&nbsp;=&nbsp;<a class="libraryLink" href="https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://msdn.microsoft.com/en-US/library/System.GC.GetTotalMemory.aspx"  title="Auto generated link to System.GC.GetTotalMemory">System.GC.GetTotalMemory</a>(<span class="fs__keyword">true</span>)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;GC.KeepAlive(testMap)&nbsp;&nbsp;<span class="fs__com">//&nbsp;This&nbsp;ensure&nbsp;a&nbsp;reference&nbsp;to&nbsp;object&nbsp;keeps&nbsp;object&nbsp;in&nbsp;memory</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;sw.Stop()&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">let</span>&nbsp;timeInitList&nbsp;=&nbsp;sw.ElapsedTicks.ToString(<span class="fs__string2">&quot;0,000,000&quot;</span>)&nbsp;&#43;&nbsp;<span class="fs__string2">&quot;&nbsp;ticks.&nbsp;&nbsp;&nbsp;Memory&nbsp;Used&nbsp;-&nbsp;&quot;</span>&nbsp;&#43;&nbsp;((stopBytes&nbsp;-&nbsp;startBytes)).ToString(<span class="fs__string2">&quot;0,0&quot;</span>)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;Console.WriteLine(<span class="fs__string2">&quot;&nbsp;&lt;Map&gt;&nbsp;&nbsp;-&nbsp;&nbsp;Init&nbsp;Time&nbsp;-&nbsp;&quot;</span>&nbsp;&#43;&nbsp;timeInitList&nbsp;&nbsp;)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;sw.Reset()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;sw.Start()&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;<span class="fs__keyword">for</span>&nbsp;(KeyValue(i,&nbsp;x))&nbsp;<span class="fs__keyword">in</span>&nbsp;testMap&nbsp;<span class="fs__keyword">do</span>&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;&lt;-&nbsp;result&nbsp;&#43;&nbsp;x&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;sw.Stop()&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;Console.WriteLine(<span class="fs__string2">&quot;&nbsp;&lt;Map&gt;&nbsp;-&nbsp;Adding&nbsp;Time&nbsp;-&nbsp;&quot;</span>&nbsp;&#43;&nbsp;sw.ElapsedTicks.ToString(<span class="fs__string2">&quot;0,000,000&quot;</span>)&nbsp;&#43;&nbsp;<span class="fs__string2">&quot;&nbsp;ticks.&nbsp;(result=&quot;</span>&nbsp;&#43;&nbsp;result.ToString(<span class="fs__string2">&quot;0,0&quot;</span>)&nbsp;&#43;&nbsp;<span class="fs__string2">&quot;)&quot;</span>&nbsp;)&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;Console.WriteLine()&nbsp;
&nbsp;
&nbsp;
&nbsp;
<span class="fs__keyword">let</span>&nbsp;runAllTests()&nbsp;=&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;testArr()&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;testLst()&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;testSeq()&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;testSet()&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;testMap()&nbsp;
&nbsp;
[&lt;EntryPoint&gt;]&nbsp;
<span class="fs__keyword">let</span>&nbsp;main&nbsp;argv&nbsp;=&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;runAllTests()&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__keyword">do</span>&nbsp;Console.ReadLine()&nbsp;|&gt;&nbsp;ignore&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="fs__number">0</span>&nbsp;<span class="fs__com">//&nbsp;return&nbsp;an&nbsp;integer&nbsp;exit&nbsp;code</span>&nbsp;
</pre>
</div>
</div>
</div>
<h1>More Information</h1>
<p><em><a href="https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://docs.microsoft.com/en-us/dotnet/fsharp/language-reference/fsharp-collection-types">https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://code.msdn.microsoft.com/windowsapps/F-Performance-of-88f675ef/https://docs.microsoft.com/en-us/dotnet/fsharp/language-reference/fsharp-collection-types</a></em></p>

</div>


    </div>
</body>
</html>
