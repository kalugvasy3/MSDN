<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head><link rel="stylesheet" type="text/css" href="https://assets.onestore.ms/cdnfiles/onestorerolling-1612-12000/shell/v3/scss/shellnoresponsive.min.css" xmlns="http://www.w3.org/1999/xhtml" />
<link rel="stylesheet" type="text/css" href="https://i-msdn.sec.s-msft.com/Combined.css?resources=0:Header,0:sprite;/Areas/Epx/Themes/Windows/Content:0&amp;amp;v=5A8F2C7924508E93B220C779E83AA378" xmlns="http://www.w3.org/1999/xhtml" />
<link rel="stylesheet" type="text/css" href="https://i-msdn.sec.s-msft.com/Areas/Epx/Themes/Windows/Content/UhfHeader.css?v=636183226100754713" data-do-not-move="true" xmlns="http://www.w3.org/1999/xhtml" />
<link rel="stylesheet" type="text/css" href="https://i-msdn.sec.s-msft.com/Combined.css?resources=0:sprite,0:Footer,1:ImageSprite,2:SelectLocaleFromPopUp;/Areas/Epx/Themes/Windows/Content:0,/Areas/Epx/Themes/WindowsApps/Content:1,/Areas/Epx/Themes/Base/Content:2&amp;amp;v=BD7685882DB97CEEAF714E22F6547CFE" xmlns="http://www.w3.org/1999/xhtml" />
<link rel="stylesheet" type="text/css" href="https://i-msdn.sec.s-msft.com/Areas/Epx/Themes/Windows/Content/UhfFooter.css?v=636183226100754713" data-do-not-move="true" xmlns="http://www.w3.org/1999/xhtml" />

        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Fast Fourier transforms (FFT) - Performance (List | Array | Classic)</title>
        <link href="description/Galleries.css" type="text/css" rel="Stylesheet" /><link href="description/Layout.css" type="text/css" rel="Stylesheet" /><link href="description/Brand.css" type="text/css" rel="Stylesheet" /><link href="description/abab92a0-3eac-4d11-b7d8-bf7800fcdcddBrand.css" type="text/css" rel="Stylesheet" />
        <link href="https://i1.code.msdn.s-msft.com/windowsapps/content/common/iframedescription.css" rel="Stylesheet" type="text/css" />
        <script src="https://i1.code.msdn.s-msft.com/windowsapps/content/common/offline.js" type="text/javascript"></script>
        <style type="text/css">
            #projectInfo {
                overflow: auto;
            }
            #longDesc {
                clear:both;
                margin: 25px 0 10px 0;
            }

            #SampleIndexList{
                margin-left: 15px;
            }
        </style>
    </head>
<body>
    <div id="offlineDescription">
        <h1>Fast Fourier transforms (FFT) - Performance (List | Array | Classic)</h1>
        <br/>
        <div id="projectInfo">
            <div class="section">
                    <div class="itemBarLong tagsContainer">
                        <label for="Technologies">Technologies</label>
                        <div id="Technologies">
                            F#, Fast Fourier Transforms, FFT
                        </div>
                    </div>
                    <div class="itemBarLong tagsContainer">
                        <label for="Topics">Topics</label>
                        <div id="Topics">
                            Fast Fourier Transforms, FFT
                        </div>
                    </div>
                <div class="itemBarLong">
                    <label for="Platforms">Platforms</label>
                    <div id="Platforms">
                        Desktop, Phone, Data, Windows RT
                    </div>
                </div>
                <div class="itemBarLong">
                    <label for="Requirements">Requirements</label>
                    <div id="Requirements">
                        
                    </div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Primary language</label>
                    <div id="LastUpdated">en-US</div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Updated</label>
                    <div id="LastUpdated">1/12/2017</div>
                </div>
                <div class="itemBarLong">
                    <label for="License">License</label>
                    <div id="License">
                        <a href="license.rtf">MIT</a></div>
                </div>
                <div class="itemBar">
                    <div class="viewonlinecont">
                        <a data-link="online" href="https://code.msdn.microsoft.com/windowsapps/Fast-Fourier-transforms-23454f63">View this sample online</a>
                    </div>
                </div>
            </div>
        </div>
        
                   
<script type="text/javascript">
    function initializePage() {
        var otherTabClass = 'otherTab';
        var hiddenPreClass = 'hidden';

        var htmlDecode = function(encodedData) {
            var decodedData = "";
            if (encodedData) {
                var div = document.createElement('div');
                div.innerHTML = encodedData;
                decodedData = div.firstChild.nodeValue.replace( /\\r\\n/ig , '\r\n');
            }
            return decodedData;
        };
                
        Galleries.iterateElem(Galleries.findElem(null, 'div', 'scriptcode'), function (index, scriptBlock) {
            var titleElem = Galleries.findElem(scriptBlock, 'div', 'title')[0];
            var labelElems = Galleries.findElem(titleElem, 'span');
            if (labelElems.length == 0) {
                labelElems = titleElem;
            }
            var languageSpans = Galleries.findElem(scriptBlock, 'span', 'hidden');
            var pres = Galleries.findElem(scriptBlock, 'pre');
            if (languageSpans.length > 0 && pres.length > 1) {
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    var languageSpan = languageSpans[index];
                            
                    elem.code = codePre.innerHTML.replace( /(\r(\n)?)|((\r)?\n)/ig , '\\r\\n');
                            
                    codePre.className = codePre.className.replace(hiddenPreClass, '');
                            
                    languageSpan.parentNode.removeChild(languageSpan);
                });

                pres = Galleries.findElem(scriptBlock, 'pre');
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    if (index == 0) {
                        scriptBlock.activeTab = 0;
                    }
                    else {
                        labelSpan.className += otherTabClass;
                        codePre.className += hiddenPreClass;
                    }
                    Galleries.attachEventHandler(labelSpan, 'click', function(e) {
                        var activeTab = scriptBlock.activeTab;
                        labelElems[activeTab].className += otherTabClass;
                        pres[activeTab].className += hiddenPreClass;

                        codePre.className = codePre.className.replace(hiddenPreClass, '');
                        labelSpan.className = labelSpan.className.replace(otherTabClass, '');
                        scriptBlock.activeTab = index;
                    });
                });

                var preview = Galleries.findElem(scriptBlock, 'div', 'preview');
                if (preview.length == 0) {
                    preview.push(pres[pres.length - 1]);
                }
                Galleries.iterateElem(preview, function(index, elem) {
                    elem.parentNode.removeChild(elem);
                });

                if (window.clipboardData && clipboardData.setData) {
                    var copyLink = document.createElement('a');
                    copyLink.href = 'javascript:void(0);';
                    copyLink.className = 'copyCode';
                    copyLink.innerHTML = 'Copy code';
                    Galleries.attachEventHandler(copyLink, 'click', function (e) {
                        clipboardData.setData("Text", htmlDecode(labelElems[scriptBlock.activeTab].code));
                        return false;
                    });
                    scriptBlock.insertBefore(copyLink, scriptBlock.childNodes[0]);
                }
            }
        });
    }

    Galleries.onWindowLoad(function(){
        initializePage();
    });

</script>
<div id="longDesc">
    
<h1>Introduction</h1>
<p><em>Base on original code &nbsp;http://www.fssnip.net/dC&nbsp;</em><em>was built this application.</em></p>
<p><em><em>Compare performance for&nbsp;FFT&nbsp;&nbsp;using LIST , ARRAY , Classic Approach AND C# project Classic Approach ...</em></em></p>
<p><em><em>(Maximum performance &quot;Classic Approach&quot; for both projects - C# better in two times than F#)&nbsp;</em></em></p>
<h3><em><em>F# - performance - 3 different approaches ...</em></em></h3>
<p><em><em><img id="165905" src="https://i1.code.msdn.s-msft.com/windowsapps/fast-fourier-transforms-23454f63/image/file/165905/1/performancefs.png" alt="" width="445" height="179"><br>
</em></em></p>
<p>&nbsp;</p>
<h3>C# - performance (Classic - converted from FORTRAN)</h3>
<p><img id="165906" src="https://i1.code.msdn.s-msft.com/windowsapps/fast-fourier-transforms-23454f63/image/file/165906/1/performancecs.png" alt="" width="446" height="160"></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>This sample demonstrates how to use the f# (f sharp) for FFT - Fast Fourier transforms, which displays a performance for LIST and ARRAY.&nbsp;</p>
<p>See&nbsp;https://en.wikipedia.org/wiki/Fast_Fourier_transform&nbsp;</p>
<p>A <strong>fast Fourier transform</strong> (<strong>FFT</strong>) <a title="Algorithm" href="https://code.msdn.microsoft.com/windowsapps/Fast-Fourier-transforms-23454f63/https://en.wikipedia.org/wiki/Algorithm">
algorithm</a> computes the discrete<a title="Discrete Fourier transform" href="https://code.msdn.microsoft.com/windowsapps/Fast-Fourier-transforms-23454f63/https://en.wikipedia.org/wiki/Discrete_Fourier_transform"> Fourier transform</a> (DFT) of a sequence or its inverse.
<a title="Fourier analysis" href="https://code.msdn.microsoft.com/windowsapps/Fast-Fourier-transforms-23454f63/https://en.wikipedia.org/wiki/Fourier_analysis">
Fourier analysis</a> converts a signal from its original domain (often time or space) to a representation in the frequency<a title="Frequency domain" href="https://code.msdn.microsoft.com/windowsapps/Fast-Fourier-transforms-23454f63/https://en.wikipedia.org/wiki/Frequency_domain"> domain</a> and vice versa. An FFT rapidly computes such
 transformations by factorizing<a title="Matrix decomposition" href="https://code.msdn.microsoft.com/windowsapps/Fast-Fourier-transforms-23454f63/https://en.wikipedia.org/wiki/Matrix_decomposition"></a> the
<a title="DFT matrix" href="https://code.msdn.microsoft.com/windowsapps/Fast-Fourier-transforms-23454f63/https://en.wikipedia.org/wiki/DFT_matrix">DFT matrix</a> into a product of sparse<a title="Sparse matrix" href="https://code.msdn.microsoft.com/windowsapps/Fast-Fourier-transforms-23454f63/https://en.wikipedia.org/wiki/Sparse_matrix"></a> (mostly zero) factors.<sup id="cite_ref-1" class="reference"><a href="https://code.msdn.microsoft.com/windowsapps/Fast-Fourier-transforms-23454f63/https://en.wikipedia.org/wiki/Fast_Fourier_transform#cite_note-1">[1]</a></sup>
 As a result, it manages to reduce the <a title="Computational complexity theory" href="https://code.msdn.microsoft.com/windowsapps/Fast-Fourier-transforms-23454f63/https://en.wikipedia.org/wiki/Computational_complexity_theory">
complexity</a> of computing the DFT from <span class="mwe-math-mathml-inline x_x_x_x_x_x_mwe-math-mathml-a11y">
O ( n 2 ) {\displaystyle O(n^{2})} </span><img class="mwe-math-fallback-image-inline" src="https://wikimedia.org/api/rest_v1/media/math/render/svg/6cd9594a16cb898b8f2a2dff9227a385ec183392" alt="O(n^{2})">, which arises if one simply applies the definition
 of DFT, to <span class="mwe-math-mathml-inline x_x_x_x_x_x_mwe-math-mathml-a11y">
O ( n log ⁡&lt;!-- ⁡ --&gt; n ) {\displaystyle O(n\log n)} </span><img class="mwe-math-fallback-image-inline" src="https://wikimedia.org/api/rest_v1/media/math/render/svg/9d2320768fb54880ca4356e61f60eb02a3f9d9f1" alt="O(n\log n)">, where
<span class="mwe-math-mathml-inline x_x_x_x_x_x_mwe-math-mathml-a11y">n {\displaystyle n}
</span><img class="mwe-math-fallback-image-inline" src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a601995d55609f2d9f5e233e36fbe9ea26011b3b" alt="n"> is the data size.</p>
<p>&nbsp;</p>
<p>To obtain an evaluation copy of Microsoft Visual Studio&nbsp;2013, go to <a href="http://go.microsoft.com/fwlink/p/?linkid=301697">
Visual Studio&nbsp;2013</a>.</p>
<h1>Building the Sample</h1>
<ol>
<li>Start Visual Studio&nbsp;2013 and select <strong>File</strong> &gt; <strong>Open</strong> &gt;
<strong>Project/Solution</strong>. </li><li>Go to the directory in which you unzipped the sample. Go to the directory named for the sample, and double-click the Visual Studio&nbsp;2013 Solution (.sln) file.
</li><li>Press F7 or use <strong>Build</strong> &gt; <strong>Build Solution</strong> to build the sample.&nbsp;
</li></ol>
<h1>Run the sample</h1>
<p>To debug the app and then run it, press F5 or use <strong>Debug</strong> &gt; <strong>
Start Debugging</strong>. To run the app without debugging, press Ctrl&#43;F5 or use <strong>
Debug</strong> &gt; <strong>Start Without Debugging</strong>.</p>
<p><span style="font-size:20px; font-weight:bold">Description</span></p>
<p><em>Compare performance for absolutely same code first using LIST second ARRAY &nbsp;</em></p>
<div class="scriptcode">
<div class="pluginEditHolder">
<div class="title"><span>C#</span><span>F#</span></div>
<div class="pluginLinkHolder"><span class="pluginEditHolderLink">Edit</span>|<span class="pluginRemoveHolderLink">Remove</span></div>
<span class="hidden">csharp</span><span class="hidden">fsharp</span>
<pre class="hidden">//  Re-written FORTRAN to C# vkalugin (see links)
//
//  www.geo.mtu.edu/~jdiehl/Potential_Fields/fork.f
//  www.geo.mtu.edu/~jdiehl/Homework4550/dft.for
//  geocities.ws/rashvand/fortran.html
//  read.pudn.com/downloads153/sourcecode/math/669570/FFT.FOR__.htm

        public static void fork(int lx, Complex[] cx, bool forward)
        {
            Complex carg, cw, ctemp;

            // reverse transform
            double signi = 1.0;
            double sc = 1.0;

            // forward transform
            if (forward)
            {
                signi = -1.0;
                sc = 1.0 / lx;
            }

            int j = 1;
            int m;

            for (int i = 1; i &lt;= lx; i&#43;&#43;)
            {
                if (i &gt; j) goto l2;
                ctemp = cx[j - 1] * sc;
                cx[j - 1] = cx[i - 1] * sc;
                cx[i - 1] = ctemp;
                l2: m = lx / 2;
                l3: if (j &lt;= m) goto l5;
                j = j - m;
                m = m / 2;
                if (m &gt;= 1) goto l3;
                l5: j = j &#43; m;
            }

            int l = 1;
            l6: int istep = 2 * l;
            for (m = 1; m &lt;= l; m&#43;&#43;)
            {
                carg = Complex.ImaginaryOne * Math.PI * signi * (m - 1) / l;
                cw = Complex.Exp(carg);
                for (int i = m; i &lt;= lx; i &#43;= istep)
                {
                    int ipl = i &#43; l;
                    ctemp = cw * cx[ipl - 1];
                    cx[ipl - 1] = cx[i - 1] - ctemp;
                    cx[i - 1] = cx[i - 1] &#43; ctemp;
                }
            }
            l = istep;
            if (l &lt; lx) goto l6;
            return;
        }
</pre>
<pre class="hidden">// base on original code, see http://www.fssnip.net/dC  (for List) 
// Compare with C#  http://www.lomont.org/Software/Misc/FFT/LomontFFT.html 

open System
open <a class="libraryLink" href="https://code.msdn.microsoft.com/windowsapps/Fast-Fourier-transforms-23454f63/https://msdn.microsoft.com/en-US/library/System.Numerics.aspx"  title="Auto generated link to System.Numerics">System.Numerics</a>
open <a class="libraryLink" href="https://code.msdn.microsoft.com/windowsapps/Fast-Fourier-transforms-23454f63/https://msdn.microsoft.com/en-US/library/System.Diagnostics.aspx"  title="Auto generated link to System.Diagnostics">System.Diagnostics</a>

// ARRAY
let rec fftA = function
  | [||]  -&gt; [||]
  | [|x|] -&gt; [|x|] 
  | x -&gt;
    x
    |&gt; Array.mapi (fun i c -&gt; (i % 2 = 0, c))                                                           
    |&gt; Array.partition fst                                                                              
    |&gt; fun (even, odd) -&gt; fftA (Array.map snd even), fftA (Array.map snd odd)                             
    ||&gt; Array.mapi2 (fun i even odd -&gt; 
        let btf = odd * Complex.FromPolarCoordinates(1., -2. * Math.PI * (float i / float x.Length ))
        even &#43; btf, even - btf)
    |&gt; Array.unzip
    ||&gt; Array.append 
  
// LIST  
let rec fftL = function
  | []  -&gt; []
  | [x] -&gt; [x] 
  | x -&gt;
    x
    |&gt; List.mapi (fun i c -&gt; i % 2 = 0, c)
    |&gt; List.partition fst
    |&gt; fun (even, odd) -&gt; fftL (List.map snd even), fftL (List.map snd odd)
    ||&gt; List.mapi2 (fun i even odd -&gt; 
        let btf = odd * Complex.FromPolarCoordinates(1., -2. * Math.PI * (float i / float x.Length ))
        even &#43; btf, even - btf)
    |&gt; List.unzip
    ||&gt; List.append


//  Re-written FORTRAN to F# vkalugin (see links)
//
//  www.geo.mtu.edu/~jdiehl/Potential_Fields/fork.f
//  www.geo.mtu.edu/~jdiehl/Homework4550/dft.for
//  geocities.ws/rashvand/fortran.html
//  read.pudn.com/downloads153/sourcecode/math/669570/FFT.FOR__.htm

let fork (cx : Complex[]  , forward : bool) =
       
    let mutable carg = Complex.Zero
    let mutable cw = Complex.Zero
    let mutable ctemp = Complex.Zero
       
    let mutable lx = cx.GetLength(0)
    let mutable signi : float = 1.0  // revers transform
    let mutable sc : float = 1.0 
        
    if forward then
        signi &lt;- -1.0 
        sc &lt;- 1.0 / (float lx)
        
    let mutable j = 1
    let mutable m = 0

    for i = 1 to lx do
            if (i &lt;= j) then 
                ctemp &lt;- cx.[j - 1] * Complex(sc, 0.0)
                cx.[j - 1] &lt;- cx.[i - 1] * Complex(sc, 0.0)
                cx.[i - 1] &lt;- ctemp
            m &lt;- lx / 2
                
            let rec l3() =
                if (j &gt; m) then
                    j &lt;- j - m
                    m &lt;- m / 2
                    if (m &gt;= 1 ) then l3() 
            l3()
            j &lt;- j &#43; m 

    let mutable l = 1
    let mutable istep = 2 * l

    while l &lt; lx do
        istep &lt;- 2 * l
        for m = 1 to l do
            carg &lt;- Complex.ImaginaryOne * Complex(Math.PI * signi * (float m - 1.0) / float l , 0.0) 
            cw &lt;- Complex.Exp(carg)
            for i in m..istep..lx do
                let ipl = i &#43; l
                ctemp &lt;- cw * cx.[ipl - 1]
                cx.[ipl - 1] &lt;- cx.[i - 1] - ctemp
                cx.[i - 1] &lt;- cx.[i - 1] &#43; ctemp
        l &lt;- istep   
    cx

</pre>
<div class="preview">
<pre class="csharp"><span class="cs__com">//&nbsp;&nbsp;Re-written&nbsp;FORTRAN&nbsp;to&nbsp;C#&nbsp;vkalugin&nbsp;(see&nbsp;links)</span>&nbsp;
<span class="cs__com">//</span>&nbsp;
<span class="cs__com">//&nbsp;&nbsp;www.geo.mtu.edu/~jdiehl/Potential_Fields/fork.f</span>&nbsp;
<span class="cs__com">//&nbsp;&nbsp;www.geo.mtu.edu/~jdiehl/Homework4550/dft.for</span>&nbsp;
<span class="cs__com">//&nbsp;&nbsp;geocities.ws/rashvand/fortran.html</span>&nbsp;
<span class="cs__com">//&nbsp;&nbsp;read.pudn.com/downloads153/sourcecode/math/669570/FFT.FOR__.htm</span>&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">public</span>&nbsp;<span class="cs__keyword">static</span>&nbsp;<span class="cs__keyword">void</span>&nbsp;fork(<span class="cs__keyword">int</span>&nbsp;lx,&nbsp;Complex[]&nbsp;cx,&nbsp;<span class="cs__keyword">bool</span>&nbsp;forward)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Complex&nbsp;carg,&nbsp;cw,&nbsp;ctemp;&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__com">//&nbsp;reverse&nbsp;transform</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">double</span>&nbsp;signi&nbsp;=&nbsp;<span class="cs__number">1.0</span>;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">double</span>&nbsp;sc&nbsp;=&nbsp;<span class="cs__number">1.0</span>;&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__com">//&nbsp;forward&nbsp;transform</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">if</span>&nbsp;(forward)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;signi&nbsp;=&nbsp;-<span class="cs__number">1.0</span>;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sc&nbsp;=&nbsp;<span class="cs__number">1.0</span>&nbsp;/&nbsp;lx;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">int</span>&nbsp;j&nbsp;=&nbsp;<span class="cs__number">1</span>;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">int</span>&nbsp;m;&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">for</span>&nbsp;(<span class="cs__keyword">int</span>&nbsp;i&nbsp;=&nbsp;<span class="cs__number">1</span>;&nbsp;i&nbsp;&lt;=&nbsp;lx;&nbsp;i&#43;&#43;)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">if</span>&nbsp;(i&nbsp;&gt;&nbsp;j)&nbsp;<span class="cs__keyword">goto</span>&nbsp;l2;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ctemp&nbsp;=&nbsp;cx[j&nbsp;-&nbsp;<span class="cs__number">1</span>]&nbsp;*&nbsp;sc;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cx[j&nbsp;-&nbsp;<span class="cs__number">1</span>]&nbsp;=&nbsp;cx[i&nbsp;-&nbsp;<span class="cs__number">1</span>]&nbsp;*&nbsp;sc;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cx[i&nbsp;-&nbsp;<span class="cs__number">1</span>]&nbsp;=&nbsp;ctemp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l2:&nbsp;m&nbsp;=&nbsp;lx&nbsp;/&nbsp;<span class="cs__number">2</span>;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l3:&nbsp;<span class="cs__keyword">if</span>&nbsp;(j&nbsp;&lt;=&nbsp;m)&nbsp;<span class="cs__keyword">goto</span>&nbsp;l5;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j&nbsp;=&nbsp;j&nbsp;-&nbsp;m;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m&nbsp;=&nbsp;m&nbsp;/&nbsp;<span class="cs__number">2</span>;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">if</span>&nbsp;(m&nbsp;&gt;=&nbsp;<span class="cs__number">1</span>)&nbsp;<span class="cs__keyword">goto</span>&nbsp;l3;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l5:&nbsp;j&nbsp;=&nbsp;j&nbsp;&#43;&nbsp;m;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">int</span>&nbsp;l&nbsp;=&nbsp;<span class="cs__number">1</span>;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l6:&nbsp;<span class="cs__keyword">int</span>&nbsp;istep&nbsp;=&nbsp;<span class="cs__number">2</span>&nbsp;*&nbsp;l;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">for</span>&nbsp;(m&nbsp;=&nbsp;<span class="cs__number">1</span>;&nbsp;m&nbsp;&lt;=&nbsp;l;&nbsp;m&#43;&#43;)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;carg&nbsp;=&nbsp;Complex.ImaginaryOne&nbsp;*&nbsp;Math.PI&nbsp;*&nbsp;signi&nbsp;*&nbsp;(m&nbsp;-&nbsp;<span class="cs__number">1</span>)&nbsp;/&nbsp;l;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cw&nbsp;=&nbsp;Complex.Exp(carg);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">for</span>&nbsp;(<span class="cs__keyword">int</span>&nbsp;i&nbsp;=&nbsp;m;&nbsp;i&nbsp;&lt;=&nbsp;lx;&nbsp;i&nbsp;&#43;=&nbsp;istep)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">int</span>&nbsp;ipl&nbsp;=&nbsp;i&nbsp;&#43;&nbsp;l;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ctemp&nbsp;=&nbsp;cw&nbsp;*&nbsp;cx[ipl&nbsp;-&nbsp;<span class="cs__number">1</span>];&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cx[ipl&nbsp;-&nbsp;<span class="cs__number">1</span>]&nbsp;=&nbsp;cx[i&nbsp;-&nbsp;<span class="cs__number">1</span>]&nbsp;-&nbsp;ctemp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cx[i&nbsp;-&nbsp;<span class="cs__number">1</span>]&nbsp;=&nbsp;cx[i&nbsp;-&nbsp;<span class="cs__number">1</span>]&nbsp;&#43;&nbsp;ctemp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l&nbsp;=&nbsp;istep;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">if</span>&nbsp;(l&nbsp;&lt;&nbsp;lx)&nbsp;<span class="cs__keyword">goto</span>&nbsp;l6;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">return</span>;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;
</pre>
</div>
</div>
</div>
<h1><span>Source Code Files</span></h1>
<ul>
<li><em>Program.fs&nbsp;</em> </li></ul>
<h1>More Information</h1>
<p><em>see original post&nbsp;<em>&nbsp;http://www.fssnip.net/dC&nbsp;</em></em></p>

</div>


    </div>
</body>
</html>
